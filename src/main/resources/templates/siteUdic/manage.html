<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="layouts/main_template">

<head>
  <title>siteUdic</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <link rel="stylesheet" href="../../static/css/bootstrap.css" th:href="@{/css/bootstrap.css}"/>
</head>
<body>
<div layout:fragment="content">
  <h2 th:text="#{dic.header.manage}">사용자 사전 관리</h2>
  <div><button type="button" id="modal_opne_btn">모달 창 열기</button></div>
  <div id="modal">
    <div class="modal_content">
      <h2>모달 창</h2>
      <p>모달 창 입니다.</p>
      <button type="button" id="modal_close_btn">닫기</button>
    </div>
    <div class="modal_layer"></div>
  </div>

  <form action method="post" th:object="${siteUdic}">
    <table class="table table-hover" border="1">
      <tr>
        <td scope="row" align="center" width="100"><input type='checkbox' name='wordList' value='selectall' onclick='selectAll(this)'/><td>
        <td scope="row" align="center" width="200" th:text="#{dic.word}">단어</td>
        <td scope="row" align="center" width="200" th:text="#{dic.memo}">메모</td>
        <td scope="row" align="center" width="200" th:text="#{dic.regdate}">등록일시</td>
      </tr>

      <tr th:if="${#lists.isEmpty(list)}">
        <td td scope="row" align="center" colspan="3" th:text="#{common.listEmpty}">
          List is empty.
        </td>
      </tr>
      <tr th:each="siteUdic : ${list}">
        <td scope="row" align="center"><input type='checkbox' name='wordList' th:field="*{_word}" th:value="${siteUdic._word}" class="form-check-input"></td>
        <td scope="row" align="center"><a href="modfiy.html" th:href="'/siteUdic/modify?originWord=' + ${siteUdic._word}" th:text="${siteUdic._word}">${siteUdic._word}</a></td>
        <!--      <td scope="row" align="center" th:text="${siteUdic._word}">${siteUdic.word}</td>-->
        <td scope="row" align="center" th:text="${siteUdic._memo}">${siteUdic.memo}</td>
        <td scope="row" align="center" th:text="${#temporals.format(siteUdic._up_dated, 'yyyy-MM-dd HH:mm')}">${siteUdic.regDate}</td>
      </tr>
    </table>
  </form>

  <div>
    <button type="submit" class="btn btn-primary" id="btnRenew" th:text="#{action.renew}">갱신</button>
    <!--    <button type="submit" class="btn btn-primary" id="btnModify" th:text="#{action.modify}">수정</button>-->
    <button type="submit" class="btn btn-primary" id="btnRemove" th:text="#{action.remove}">삭제</button>
    <button type="submit" class="btn btn-primary" id="btnRemoveAll" th:text="#{action.remove.checked}">선택삭제</button>
    <button type="submit" class="btn btn-primary" id="btnList" th:text="#{action.list}">목록</button>
  </div>

  <br>

  <script>
    $(document).ready(function() {
      $("#btnRenew").on("click", function() {
        self.location = "renew";
      });

      // $("#btnModify").on("click", function() {
      //   self.location = "modify";
      // });

      $("#btnRemove").on("click", function() {
        self.location = "remove";
      });

      $("#btnRemoveAll").on("click", function() {
        self.location = "manage_removeChecked";
      });

      $("#btnList").on("click", function() {
        self.location = "list";
      });
    });

    function selectAll(selectAll)  {
      const checkboxes
              = document.querySelectorAll('input[type="checkbox"]');

      checkboxes.forEach((checkbox) => {
        checkbox.checked = selectAll.checked
      })
    }

    document.getElementById("modal_opne_btn").onclick = function() {
      document.getElementById("modal").style.display="block";
    }

    document.getElementById("modal_close_btn").onclick = function() {
      document.getElementById("modal").style.display="none";
    }
  </script>
</div>
</body>
</html>
